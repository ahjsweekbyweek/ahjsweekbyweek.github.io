<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AHJS Week by Week</title>
  <link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:wght@400;500;700&family=Instrument+Serif:ital@1&display=swap" rel="stylesheet">
  <style>
    :root {
      --black: #000000;
      --blue: #0011ff;
      --yellow: #ffd500;
      --white: #ffffff;
      --gray: #f5f5f5;

      --bg: var(--white);
      --text: #111;
      --card-text: var(--white);
      --card-bg: linear-gradient(145deg, var(--blue), var(--gray));
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg: var(--black);
        --text: var(--white);
        --card-text: var(--white);
        --card-bg: linear-gradient(145deg, var(--blue), var(--black));
      }
    }

    body.dark {
      --bg: var(--black);
      --text: var(--white);
      --card-text: var(--white);
      --card-bg: linear-gradient(145deg, var(--blue), var(--black));
    }

    body.light {
      --bg: var(--white);
      --text: #111;
      --card-text: var(--white); /* stays white in light mode */
      --card-bg: linear-gradient(145deg, var(--blue), var(--gray));
    }

    body {
      margin: 0;
      font-family: 'Instrument Sans', sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.5;
      transition: background 0.4s, color 0.4s;
    }

    header {
      text-align: center;
      padding: 2rem 1rem 1rem;
      background: var(--bg);
      position: relative;
    }

    header h1 {
      font-size: 2.5rem;
      font-weight: 700;
      margin: 0;
      color: var(--yellow);
    }

    header p {
      margin-top: 0.3rem;
      font-size: 1.2rem;
      font-weight: 500;
    }

    /* iOS-style toggle */
    .toggle-container {
      position: absolute;
      top: 1rem;
      right: 1rem;
    }
    .switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 34px;
    }
    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: background 0.4s;
      border-radius: 34px;
    }
    .slider:before {
      position: absolute;
      content: "‚òÄÔ∏è";
      height: 26px;
      width: 26px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      transition: transform 0.4s, background 0.4s, content 0.4s;
    }
    input:checked + .slider {
      background-color: #333;
    }
    input:checked + .slider:before {
      transform: translateX(26px) rotate(360deg);
      content: "üåô";
    }

    /* Tabs */
    nav {
      display: flex;
      justify-content: center;
      background: #222;
      padding: 0.5rem;
      gap: 1rem;
    }

    body.light nav {
      background: #ddd;
    }

    nav button {
      background: none;
      border: none;
      color: var(--text);
      font-weight: 600;
      padding: 0.6rem 1.2rem;
      border-radius: 0.8rem;
      cursor: pointer;
      transition: background 0.3s;
    }

    nav button.active {
      background: var(--blue);
      color: var(--yellow);
    }

    /* Carousel container */
    .carousel-wrapper {
      position: relative;
      max-width: 1000px;
      margin: auto;
    }

    .carousel {
      display: flex;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
      gap: 1rem;
      padding: 2rem 1rem;
      scroll-behavior: smooth;
    }

    .carousel::-webkit-scrollbar {
      display: none;
    }

    .day-card {
      flex: 0 0 80%;
      max-width: 400px;
      border-radius: 1.5rem;
      padding: 2rem;
      background: var(--card-bg);
      color: var(--card-text); /* card text stays white */
      position: relative;
      box-shadow: 0 10px 30px rgba(0,0,0,0.6);
      scroll-snap-align: center;
      transition: transform 0.3s ease, background 0.3s;
      overflow: hidden;
    }

    .day-card:hover {
      transform: scale(1.03);
    }

    .day-card h2 {
      font-size: 1.6rem;
      margin-bottom: .5rem;
      font-weight: 700;
      color: var(--yellow);
    }

    .day-card h3 {
      font-size: 1.1rem;
      font-weight: 500;
      margin: 0 0 1rem;
      opacity: 0.85;
    }

    .tags {
      font-family: 'Instrument Serif', serif;
      font-style: italic;
      color: var(--yellow);
      font-size: .95rem;
    }

    /* locked state */
    .day-card.locked .content {
      filter: blur(4px) brightness(0.7);
    }

    .lock-overlay {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,0.8);
      color: var(--white);
      padding: .8rem 1.2rem;
      border-radius: 1rem;
      font-weight: 600;
      z-index: 5;
      pointer-events: none;
    }

    /* Carousel arrows */
    .carousel-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: var(--blue);
      color: var(--yellow);
      border: none;
      border-radius: 50%;
      width: 45px;
      height: 45px;
      cursor: pointer;
      font-size: 1.5rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
      transition: transform 0.2s;
    }

    .carousel-arrow:hover {
      transform: translateY(-50%) scale(1.1);
    }

    .carousel-arrow.left {
      left: -15px;
    }
    .carousel-arrow.right {
      right: -15px;
    }

    /* Pagination dots */
    .dots {
      text-align: center;
      margin: 1rem 0;
    }
    .dot {
      display: inline-block;
      width: 12px;
      height: 12px;
      margin: 0 5px;
      background: #777;
      border-radius: 50%;
      cursor: pointer;
      transition: background 0.3s;
    }
    .dot.active {
      background: var(--yellow);
    }

    /* Tab content */
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }

    iframe {
      width: 100%;
      height: 600px;
      border: none;
    }

    @media (max-width: 700px) {
      header h1 {
        font-size: 1.8rem;
      }
      .day-card {
        flex: 0 0 90%;
        padding: 1.5rem;
      }
      iframe {
        height: 400px;
      }
      .carousel-arrow {
        width: 35px;
        height: 35px;
        font-size: 1.2rem;
      }
    }
  </style>
</head>
<body class="light">
  <header>
    <h1>AHJS Week by Week</h1>
    <p>September 22 ‚Äì 26, 2025</p>
    <div class="toggle-container">
      <label class="switch">
        <input type="checkbox" id="modeToggle">
        <span class="slider"></span>
      </label>
    </div>
  </header>

  <!-- Tabs -->
  <nav>
    <button class="active" data-tab="activities">Activities</button>
    <button data-tab="calendar">District Calendar</button>
  </nav>

  <main>
    <!-- Activities Tab -->
    <section id="activities" class="tab-content active">
      <div class="carousel-wrapper">
        <button class="carousel-arrow left" id="prevBtn">‚Äπ</button>
        <div class="carousel" id="weekCarousel"></div>
        <button class="carousel-arrow right" id="nextBtn">‚Ä∫</button>
      </div>
      <div class="dots" id="dots"></div>
    </section>

    <!-- Calendar Tab -->
    <section id="calendar" class="tab-content">
      <iframe src="https://www.ahisd.net/students___parents/calendars" 
        title="AHISD Calendar"</iframe>
"></iframe>
    </section>
  </main>

  <script>
    const WEEK_CONTENT = [
      {
        date: "2025-09-22",
        title: "Mix It Up Monday",
        subtitle: "Wear Mismatched Socks",
        text: "Mix it up at lunch ‚Äì no one eats alone!",
        tags: ["Spirit: Socks", "Lunch Activity"]
      },
      {
        date: "2025-09-23",
        title: "Hey Tuesday",
        subtitle: "Say Hey To Someone New",
        text: "Wear a name tag and meet someone new.",
        tags: ["Connection", "Friendship"]
      },
      {
        date: "2025-09-24",
        title: "Welcome Wednesday",
        subtitle: "Wear Green",
        text: "Show kindness by welcoming someone new at recess.",
        tags: ["Spirit: Green", "Inclusion"]
      },
      {
        date: "2025-09-25",
        title: "Light It Up Thursday",
        subtitle: "Wear Neon",
        text: "Light it up! Be the reason someone smiles today.",
        tags: ["Spirit: Neon", "Kindness"]
      },
      {
        date: "2025-09-26",
        title: "Friendly Friday",
        subtitle: "Wear Blue and Gold",
        text: "Mules up! Share a positive message with someone.",
        tags: ["School Spirit", "Positivity"]
      }
    ];

    const today = new Date();
    const weekCarousel = document.getElementById("weekCarousel");
    const dotsContainer = document.getElementById("dots");

    WEEK_CONTENT.forEach((day, i) => {
      const card = document.createElement("div");
      card.classList.add("day-card");

      const content = document.createElement("div");
      content.classList.add("content");
      content.innerHTML = `
        <h2>${day.title}</h2>
        <h3>${day.subtitle}</h3>
        <p>${day.text}</p>
        <div class="tags">${day.tags.join(" ‚Ä¢ ")}</div>
      `;

      const dayDate = new Date(day.date);

      if (i !== 0 && today < dayDate) {
        card.classList.add("locked");
        const lockMsg = document.createElement("div");
        lockMsg.classList.add("lock-overlay");
        lockMsg.textContent = `üîí Unlocks ${dayDate.toDateString()}`;
        card.appendChild(lockMsg);
      }

      card.appendChild(content);
      weekCarousel.appendChild(card);

      // add dot
      const dot = document.createElement("span");
      dot.classList.add("dot");
      if (i === 0) dot.classList.add("active");
      dot.addEventListener("click", () => {
        weekCarousel.scrollTo({ left: card.offsetLeft - 20, behavior: "smooth" });
      });
      dotsContainer.appendChild(dot);
    });

    const dots = document.querySelectorAll(".dot");

    // Tab switching
    const tabs = document.querySelectorAll("nav button");
    const tabContents = document.querySelectorAll(".tab-content");

    tabs.forEach(tab => {
      tab.addEventListener("click", () => {
        tabs.forEach(btn => btn.classList.remove("active"));
        tab.classList.add("active");

        const target = tab.dataset.tab;
        tabContents.forEach(section => {
          section.classList.remove("active");
          if (section.id === target) section.classList.add("active");
        });
      });
    });

    // Carousel arrows
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");

    prevBtn.addEventListener("click", () => {
      weekCarousel.scrollBy({ left: -400, behavior: "smooth" });
    });

    nextBtn.addEventListener("click", () => {
      weekCarousel.scrollBy({ left: 400, behavior: "smooth" });
    });

    // Sync dots with scroll
    weekCarousel.addEventListener("scroll", () => {
      const cards = document.querySelectorAll(".day-card");
      let index = 0;
      cards.forEach((card, i) => {
        const rect = card.getBoundingClientRect();
        if (rect.left >= 0 && rect.left < window.innerWidth / 2) {
          index = i;
        }
      });
      dots.forEach(dot => dot.classList.remove("active"));
      if (dots[index]) dots[index].classList.add("active");
    });

    // Theme toggle logic
    const modeToggle = document.getElementById("modeToggle");
    const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;

    if (prefersDark) {
      document.body.classList.remove("light");
      document.body.classList.add("dark");
      modeToggle.checked = true;
    } else {
      document.body.classList.add("light");
      modeToggle.checked = false;
    }

    modeToggle.addEventListener("change", () => {
      if (modeToggle.checked) {
        document.body.classList.add("dark");
        document.body.classList.remove("light");
      } else {
        document.body.classList.add("light");
        document.body.classList.remove("dark");
      }
    });
  </script>
</body>
</html>
